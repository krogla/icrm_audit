# Аудит смарт контрактов Icareum.

Статус - завершен, последняя редакция 2018-08-06

## Общие замечания

Код контрактов проверен на предмет программных закладок и критических ошибок способных привести к потере денег инвесторами.
  
* Для успешного участия в этапах краудсейла участник должен быть внесен в "список инвесторов".   
* До окончания всех этапов ICO заблокироана возможность отправки/передачи токенов.
 
Контракты токена и краудсейла используют некоторые контракты из библиотеки OpenZeppelin, код которых соответствует официальному репозиторию, однако присутствуют незначительные изменения в коде, не оказывающие влияния на функционал или логику работу.

Контракт токена ICRM `IcareumToken` наследует контракты `ERC20Basic`, `ERC20` и `Ownable`, реализует стандарт ERC20 дополненный функционлом запрета пересылки токенов на время этапов краудсейла, с возможностью выпуска токенов владельцем.

Продажа токенов ICRM осуществляется через контракт `IcareumCrowdsale`, реализущий всю логику этапов краудсейла. `IcareumCrowdsale` наследуюет контракт `Adminable` - позволяющий добавить администраторов для управления "списком инвесторов", и функционал контрактов `Ownable` - реализующего механизм владения контрактом, и `Pausable` - позволяющего поставить распродажу на паузу.

Некоторые контракты используют методы библиотеки `MathLib` для безопасных вычислений.

Эмитирование токенов возможно только в периоды краудсейла и только через контракт `IcareumCrowdsale`. Для каждого этапа краудсейла, бонусных и реферальных программ устновлены лимиты эмиссии токенов: 
- резер для внутренних нужд платформы - 4000000 токенов
- этап закрытого пресейла - 6000000 токенов
- этапы основной продажи - 56000000 токенов
- бонусы и реферальная программа - 24000000 токенов
- баунти, маркетинг и пр. - 10000000 токенов 
Итого, лимит на эмиссию - 100000000 токенов

## Обзор контрактов

`MathLib` (OpenZeppelin)

1) (Не критично) Использование оператора `require` вместо `assert` позволит сэкономить газ в случае ошибочных вычислений в методах контракта.

`ERC20Basic` (OpenZeppelin)

1) (Примечание) Упрощенная версия интерфейса `ERC20`

`ERC20` (OpenZeppelin)

1) (Примечание) `ERC20` интерфейс

`Ownable` (OpenZeppelin)

1) (Примечание) Владелец контракта может назначить другого владельца.

`Pausable` (OpenZeppelin)

1) (Примечание) Контракт содержит функционал, позволяющий его владельцу переключать триггер `paused` во включённое и выключенное положение, и модификаторы позволяющие вызов некоторых функций только в режиме паузы или только в режиме вне паузы.

`RefundVault` (OpenZeppelin)

1) (Примечание) контракт хранит все средства на время краудсейла до достижения softCap
2) (Примечание) Владельцем vault является контракт `IcareumCrowdsale`

`IcareumToken`

1) (Примечание) Выпуск токенов может производиться только с адреса владельца до момента завершения краудсейла
2) (Примечание) Все операции с токенами заблокированы на период проведения краудсейла
3) (Примечание) Владельцем является контракт `IcareumCrowdsale`    

`Adminable`

1) (Примечание) Функционал добавлени/удаления администраторов, кто может изменять "список инвесторов"

`IcareumCrowdsale`

1) Наследует `Adminable`
2) (Примечание) Владелец может потавить краудсейл на паузу
3) (Примечание) Только владелец может завершить краудсейл
4) (Примечание) Владелец может изменять цену токена
5) (Некритично) В момент запуска основного этапа продаж, вместо даты окончания необходимо указать номер блока сети Ethereum на котором этам должен закончится, т.е. время окончания будет задано с некоторой погрешностью из-за девиации времени майнинга блока.  
 
## Предупреждение об ответственности

Этот аудит касается только исходных кодов смарт контрактов и не должен рассматриваться как одобрение платформы, команды или компании.

## Авторы

Аудит провёл Михаил Семёнкин ([Mikhail Semenkin](https://t.me/krogla)), команда [EthereumWorks](https://github.com/EthereumWorks)
По вопросам проведения аудитов и разработки смарт контрактов обращайтесь: Telegram - @SlavaPoe, Skype - v.poskonin (MousePo).

